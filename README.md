# üåç Telegram –ü–µ—Ä–µ–≤–æ–¥—á–∏–∫

[![Python](https://img.shields.io/badge/Python-3.11+-blue.svg)](https://www.python.org/downloads/)
[![aiogram](https://img.shields.io/badge/aiogram-3.x-green.svg)](https://docs.aiogram.dev/)
[![OpenAI](https://img.shields.io/badge/OpenAI-GPT--4o-orange.svg)](https://openai.com/)
[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)

–£–º–Ω—ã–π Telegram –±–æ—Ç –¥–ª—è –ø–µ—Ä–µ–≤–æ–¥–∞ —Ç–µ–∫—Å—Ç–∞ –∏ –≥–æ–ª–æ—Å–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π –º–µ–∂–¥—É **6 —è–∑—ã–∫–∞–º–∏** üá∑üá∫üá∫üá∏üáπüá≠üá∏üá¶üá®üá≥üáªüá≥ —Å –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–º–∏ –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è–º–∏ –∏ –≥—Ä—É–ø–ø–æ–≤—ã–º–∏ –∫–æ–º–Ω–∞—Ç–∞–º–∏ –¥–ª—è –º–Ω–æ–≥–æ—Å—Ç–æ—Ä–æ–Ω–Ω–µ–≥–æ –æ–±—â–µ–Ω–∏—è.

## üõ†Ô∏è Tech Stack

### Core Technologies
- **Python 3.13** - –û—Å–Ω–æ–≤–Ω–æ–π —è–∑—ã–∫ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è
- **aiogram 3.x** - –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ –¥–ª—è Telegram Bot API
- **SQLite** - –í—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏ –Ω–∞—Å—Ç—Ä–æ–µ–∫
- **FFmpeg** - –û–±—Ä–∞–±–æ—Ç–∫–∞ –∞—É–¥–∏–æ (–∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –≥–æ–ª–æ—Å–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π)

### AI & ML
- **OpenAI GPT-4o/GPT-4o-mini** - –ü–µ—Ä–µ–≤–æ–¥ —Ç–µ–∫—Å—Ç–∞ —Å –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º –∏ —ç–º–æ–¥–∑–∏
- **OpenAI Whisper** - –†–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ –≥–æ–ª–æ—Å–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π (speech-to-text)
- **OpenAI TTS** - –°–∏–Ω—Ç–µ–∑ –≥–æ–ª–æ—Å–∞ –¥–ª—è –æ—Ç–≤–µ—Ç–æ–≤ (text-to-speech)
- **Claude Sonnet 4** - –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–∞—è –º–æ–¥–µ–ª—å –¥–ª—è –ø–µ—Ä–µ–≤–æ–¥–æ–≤ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

### Libraries & Tools
- **aiohttp** - –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ HTTP –∑–∞–ø—Ä–æ—Å—ã
- **cachetools** - In-memory –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–µ—Ä–µ–≤–æ–¥–æ–≤ –∏ TTS
- **langdetect** - –ê–≤—Ç–æ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —è–∑—ã–∫–∞ —Ç–µ–∫—Å—Ç–∞
- **PyYAML** - –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —á–µ—Ä–µ–∑ YAML —Ñ–∞–π–ª—ã
- **pytest** - –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å –º–æ–∫–∞–º–∏

### Infrastructure
- **systemd** - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Ä–≤–∏—Å–æ–º –≤ production
- **journalctl** - –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
- **Git** - –ö–æ–Ω—Ç—Ä–æ–ª—å –≤–µ—Ä—Å–∏–π

## üöÄ –°—Ç–∞—Ç—É—Å: –ì–æ—Ç–æ–≤ –∫ –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É v2.7.2

‚ö° **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:** –û–±—Ä–∞–±–æ—Ç–∫–∞ –≥–æ–ª–æ—Å–∞ ~8-9—Å —Å early response (–±—ã–ª–æ 11.7—Å), –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è TTS
üèóÔ∏è **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:** –ú–æ–¥—É–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ–º –Ω–∞ core, handlers, services, storage
üß™ **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:** –û—Ñ–ª–∞–π–Ω —Ç–µ—Å—Ç—ã —Å –º–æ–∫–∞–º–∏ OpenAI, –∞—Ç–æ–º–∞—Ä–Ω—ã–µ SQL –æ–ø–µ—Ä–∞—Ü–∏–∏
üßπ **–ê–≤—Ç–æ–æ—á–∏—Å—Ç–∫–∞:** –£–¥–∞–ª–µ–Ω–∏–µ –Ω–µ–∞–∫—Ç–∏–≤–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏ –∫—ç—à–∞ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ
üè† **–ü–µ—Ä–µ–≥–æ–≤–æ—Ä–Ω—ã–µ –∫–æ–º–Ω–∞—Ç—ã:** –ú–Ω–æ–≥–æ—Å—Ç–æ—Ä–æ–Ω–Ω–∏–π –ø–µ—Ä–µ–≤–æ–¥ –¥–ª—è 2-10 —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ —Å –∞–≤—Ç–æ–ø–µ—Ä–µ–≤–æ–¥–æ–º
üõ°Ô∏è **–ù–∞–¥—ë–∂–Ω–æ—Å—Ç—å:** JSON-—Ñ–æ—Ä–º–∞—Ç –ø–µ—Ä–µ–≤–æ–¥–æ–≤, –≤–∞–ª–∏–¥–∞—Ü–∏—è –ø–æ–ª–Ω–æ—Ç—ã, fallback –¥–ª—è –Ω–µ–ø–æ–ª–Ω—ã—Ö –ø–µ—Ä–µ–≤–æ–¥–æ–≤
ü§ñ **AI –ú–æ–¥–µ–ª–∏:** –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π –≤—ã–±–æ—Ä –º–µ–∂–¥—É GPT-4o, GPT-4o-mini, Claude Sonnet 4 –≤ –∞–¥–º–∏–Ω –ø–∞–Ω–µ–ª–∏

## ‚ú® –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### üîÑ –ü–µ—Ä–µ–≤–æ–¥—ã
- **–ê–≤—Ç–æ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —è–∑—ã–∫–∞** - –†—É—Å—Å–∫–∏–π, –∞–Ω–≥–ª–∏–π—Å–∫–∏–π, —Ç–∞–π—Å–∫–∏–π, –∞—Ä–∞–±—Å–∫–∏–π, —É–ø—Ä–æ—â—ë–Ω–Ω—ã–π –∫–∏—Ç–∞–π—Å–∫–∏–π, –≤—å–µ—Ç–Ω–∞–º—Å–∫–∏–π
- **–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è** - –í—ã–±–æ—Ä —Ü–µ–ª–µ–≤—ã—Ö —è–∑—ã–∫–æ–≤ —á–µ—Ä–µ–∑ `/menu`
- **–£–º–Ω–∞—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è** - –ü–µ—Ä–µ–≤–æ–¥–∏—Ç —Ç–æ–ª—å–∫–æ –Ω–∞ –≤—ã–±—Ä–∞–Ω–Ω—ã–µ —è–∑—ã–∫–∏ (–Ω–µ –Ω–∞ –≤—Å–µ)
- **–ì–æ–ª–æ—Å–æ–≤—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è** - –†–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ Whisper + –ø–µ—Ä–µ–≤–æ–¥
- **–ì–æ–ª–æ—Å–æ–≤—ã–µ –æ—Ç–≤–µ—Ç—ã** - TTS —Å –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ–º –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —ç–º–æ–¥–∑–∏** - –≠–º–æ–¥–∑–∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ –≤—Å–µ —è–∑—ã–∫–∏ üòäüéâ
- **–ù–∞–¥—ë–∂–Ω—ã–π –ø–∞—Ä—Å–∏–Ω–≥** - JSON-—Ñ–æ—Ä–º–∞—Ç –æ—Ç–≤–µ—Ç–æ–≤ –æ—Ç OpenAI –≤–º–µ—Å—Ç–æ —Ç–µ–∫—Å—Ç–æ–≤–æ–≥–æ –ø–∞—Ä—Å–∏–Ω–≥–∞
- **–ë–µ–∑ –ø—Ä–µ—Ñ–∏–∫—Å–æ–≤** - –ß–∏—Å—Ç—ã–µ –ø–µ—Ä–µ–≤–æ–¥—ã –±–µ–∑ —è–∑—ã–∫–æ–≤—ã—Ö –º–µ—Ç–æ–∫

### üè† –ü–µ—Ä–µ–≥–æ–≤–æ—Ä–Ω—ã–µ –∫–æ–º–Ω–∞—Ç—ã
- **–°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–º–Ω–∞—Ç** - –£–¥–æ–±–Ω—ã–π –º–∞—Å—Ç–µ—Ä —Å –≤—ã–±–æ—Ä–æ–º –Ω–∞–∑–≤–∞–Ω–∏—è –∏ —è–∑—ã–∫–∞
- **–ü—Ä–∏—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ** - –ö–æ–º–∞–Ω–¥–∞ `/room join CODE` —Å –≤—ã–±–æ—Ä–æ–º —Å–≤–æ–µ–≥–æ —è–∑—ã–∫–∞
- **–ê–≤—Ç–æ–ø–µ—Ä–µ–≤–æ–¥** - –ö–∞–∂–¥—ã–π –ø–∏—à–µ—Ç –Ω–∞ —Å–≤–æ—ë–º —è–∑—ã–∫–µ, –≤—Å–µ –ø–æ–ª—É—á–∞—é—Ç –ø–µ—Ä–µ–≤–æ–¥
- **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ** - –ü—Ä–æ—Å–º–æ—Ç—Ä —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤, –≤—ã—Ö–æ–¥, –∑–∞–∫—Ä—ã—Ç–∏–µ –∫–æ–º–Ω–∞—Ç—ã (–¥–ª—è —Å–æ–∑–¥–∞—Ç–µ–ª—è)
- **–ü—Ä–∏–≥–ª–∞—à–µ–Ω–∏—è** - –ü—Ä–æ—Å—Ç–∞—è —Å–∏—Å—Ç–µ–º–∞ —à–∞—Ä–∏–Ω–≥–∞ —Å –∫–æ–¥–æ–º –¥–æ—Å—Ç—É–ø–∞
- **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ –≥–æ–ª–æ—Å–∞** - –ì–æ–ª–æ—Å–æ–≤—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è —Ä–∞–±–æ—Ç–∞—é—Ç –≤ –∫–æ–º–Ω–∞—Ç–∞—Ö

### ‚ö° –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∏ –Ω–∞–¥—ë–∂–Ω–æ—Å—Ç—å
- **Early Response** - –¢—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—è –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –º–≥–Ω–æ–≤–µ–Ω–Ω–æ (~3—Å), –ø–µ—Ä–µ–≤–æ–¥ –≤ —Ñ–æ–Ω–µ
- **–ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞** - TTS –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –¥–ª—è –≤—Å–µ—Ö —è–∑—ã–∫–æ–≤ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ
- **–£–º–Ω–æ–µ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ** - –ü–µ—Ä–µ–≤–æ–¥—ã (1—á) + TTS (30–º–∏–Ω) —Å –ø–æ—Å—Ç–æ—è–Ω–Ω—ã–º —Ö—Ä–∞–Ω–µ–Ω–∏–µ–º
- **–ó–∞—â–∏—Ç–∞ –æ—Ç –≥–æ–Ω–æ–∫** - –ê—Ç–æ–º–∞—Ä–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
- **–ê–≤—Ç–æ–æ—á–∏—Å—Ç–∫–∞** - –£–¥–∞–ª–µ–Ω–∏–µ —Å—Ç–∞—Ä—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (>3 –¥–Ω–µ–π) –∏ –∫—ç—à–∞ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ
- **–í–∞–ª–∏–¥–∞—Ü–∏—è –ø–µ—Ä–µ–≤–æ–¥–æ–≤** - –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–ª–Ω–æ—Ç—ã –ø–µ—Ä–µ–≤–æ–¥–æ–≤ –Ω–∞ –≤—Å–µ –∑–∞–ø—Ä–æ—à–µ–Ω–Ω—ã–µ —è–∑—ã–∫–∏
- **Fallback –º–µ—Ö–∞–Ω–∏–∑–º—ã** - –û—Ç–ø—Ä–∞–≤–∫–∞ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç–∞ –µ—Å–ª–∏ –ø–µ—Ä–µ–≤–æ–¥ –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω
- **–î–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** - –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ —É—Å–ø–µ—à–Ω–æ—Å—Ç–∏ –ø–µ—Ä–µ–≤–æ–¥–æ–≤ –∏ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏—Ö —è–∑—ã–∫–æ–≤

### üëë –ê–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å
- **–†–∞–∑–¥–µ–ª—ë–Ω–Ω–æ–µ –º–µ–Ω—é** - –û—Ç–¥–µ–ª—å–Ω—ã–µ —Ä–∞–∑–¥–µ–ª—ã –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, —Å–µ—Ä–≤–µ—Ä–∞ –∏ –æ—á–∏—Å—Ç–∫–∏
- **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏** - –í–∫–ª—é—á–µ–Ω–∏–µ/–æ—Ç–∫–ª—é—á–µ–Ω–∏–µ —Å —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–æ–π –ø–æ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
- **–í—ã–±–æ—Ä AI –º–æ–¥–µ–ª–∏** - –î–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –º–µ–∂–¥—É GPT-4o, GPT-4o-mini, Claude Sonnet 4
- **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å–µ—Ä–≤–µ—Ä–∞** - CPU, –ø–∞–º—è—Ç—å, –¥–∏—Å–∫, —Å—Ç–∞—Ç—É—Å —Å–ª—É–∂–±—ã
- **–û—á–∏—Å—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö** - –£–¥–∞–ª–µ–Ω–∏–µ –Ω–µ–∞–∫—Ç–∏–≤–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏ —Å—Ç–∞—Ä–æ–≥–æ TTS –∫—ç—à–∞
- **–ê–Ω–∞–ª–∏—Ç–∏–∫–∞** - –°—á—ë—Ç—á–∏–∫–∏ –Ω–µ–∞–∫—Ç–∏–≤–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, —Ä–∞–∑–º–µ—Ä –∫—ç—à–∞

## üõ†Ô∏è –£—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
git clone https://github.com/yourusername/tgbot
cd tgbot
python3 -m venv .venv
source .venv/bin/activate  # Linux/Mac
pip install -r requirements.txt
```

## ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞

1. **–°–æ–∑–¥–∞–π—Ç–µ `.env` —Ñ–∞–π–ª:**
```bash
cp .env.example .env
```

2. **–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:**
```bash
TELEGRAM_BOT_TOKEN=your_bot_token
OPENAI_API_KEY=sk-your-openai-key
```

3. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é:**
- `config/development.yaml` - –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
- `config/production.yaml` - –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞

## üöÄ –ó–∞–ø—É—Å–∫

### –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞
```bash
source .venv/bin/activate
python -m src.main
```

### –ü—Ä–æ–¥–∞–∫—à–µ–Ω (systemd)
```bash
sudo cp translator-bot.service /etc/systemd/system/
sudo systemctl daemon-reload
sudo systemctl enable translator-bot
sudo systemctl start translator-bot
```

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

```bash
# –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤
python -m pytest tests/

# –¢–µ—Å—Ç—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
python -m pytest tests/test_database.py -v

# –¢–µ—Å—Ç—ã –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —è–∑—ã–∫–∞
python -m pytest tests/test_language_detection.py -v
```

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
tgbot/
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ core/          # –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (app, config, cache)
‚îÇ   ‚îú‚îÄ‚îÄ handlers/      # –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π –∏ –∫–æ–º–∞–Ω–¥
‚îÇ   ‚îú‚îÄ‚îÄ services/      # –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ (–ø–µ—Ä–µ–≤–æ–¥, –≥–æ–ª–æ—Å, –∞–Ω–∞–ª–∏—Ç–∏–∫–∞)
‚îÇ   ‚îú‚îÄ‚îÄ middlewares/   # Rate limiting, –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
‚îÇ   ‚îú‚îÄ‚îÄ models/        # –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö (–∫–æ–º–Ω–∞—Ç—ã)
‚îÇ   ‚îú‚îÄ‚îÄ states/        # FSM —Å–æ—Å—Ç–æ—è–Ω–∏—è –¥–ª—è –¥–∏–∞–ª–æ–≥–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ storage/       # –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –∏ —Ö—Ä–∞–Ω–µ–Ω–∏–µ
‚îÇ   ‚îî‚îÄ‚îÄ utils/         # –£—Ç–∏–ª–∏—Ç—ã (—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ, –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã)
‚îú‚îÄ‚îÄ config/            # YAML –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ (dev, production)
‚îú‚îÄ‚îÄ docs/              # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞
‚îÇ   ‚îú‚îÄ‚îÄ BUGFIX_REPORT.md
‚îÇ   ‚îú‚îÄ‚îÄ MIGRATION_NOTES.md
‚îÇ   ‚îú‚îÄ‚îÄ ROOM.md
‚îÇ   ‚îú‚îÄ‚îÄ TESTING_ROOMS.md
‚îÇ   ‚îî‚îÄ‚îÄ UPDATE.md
‚îú‚îÄ‚îÄ tests/             # –¢–µ—Å—Ç—ã —Å –º–æ–∫–∞–º–∏
‚îú‚îÄ‚îÄ logs/              # –õ–æ–≥–∏ –±–æ—Ç–∞ –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
‚îú‚îÄ‚îÄ monitoring/        # –°–∫—Ä–∏–ø—Ç—ã –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
‚îî‚îÄ‚îÄ data/              # SQLite –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –∏ –∫—ç—à
```

## üîß –°–∏—Å—Ç–µ–º–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

- **Python:** 3.11+ (—Å–æ–≤–º–µ—Å—Ç–∏–º —Å 3.13)
- **FFmpeg:** –î–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∞—É–¥–∏–æ
- **SQLite:** –í—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
- **–ü–∞–º—è—Ç—å:** ~200MB RAM
- **–î–∏—Å–∫:** ~50MB –¥–ª—è –ª–æ–≥–æ–≤ –∏ –∫—ç—à–∞

## üìù –ö–æ–º–∞–Ω–¥—ã –±–æ—Ç–∞

- `/start` - –ù–∞—á–∞—Ç—å —Ä–∞–±–æ—Ç—É —Å –±–æ—Ç–æ–º
- `/menu` - –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —è–∑—ã–∫–æ–≤ –ø–µ—Ä–µ–≤–æ–¥–∞
- `/room` - –°–æ–∑–¥–∞—Ç—å –∏–ª–∏ –ø—Ä–∏—Å–æ–µ–¥–∏–Ω–∏—Ç—å—Å—è –∫ –ø–µ—Ä–µ–≥–æ–≤–æ—Ä–Ω–æ–π –∫–æ–º–Ω–∞—Ç–µ
- `/room join CODE` - –ü—Ä–∏—Å–æ–µ–¥–∏–Ω–∏—Ç—å—Å—è –∫ –∫–æ–º–Ω–∞—Ç–µ –ø–æ –∫–æ–¥—É
- `/admin` - –ê–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å (—Ç–æ–ª—å–∫–æ –¥–ª—è –∞–¥–º–∏–Ω–æ–≤)
- `/help` - –°–ø—Ä–∞–≤–∫–∞ –ø–æ –∫–æ–º–∞–Ω–¥–∞–º

## üêõ –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### Python 3.13 –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å
–ë–æ—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é —Å–æ–≤–º–µ—Å—Ç–∏–º —Å Python 3.13 –∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç ffmpeg –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∞—É–¥–∏–æ (–±–µ–∑ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —É—Å—Ç–∞—Ä–µ–≤—à–µ–≥–æ –º–æ–¥—É–ª—è `audioop`).

### –ù–µ–ø–æ–ª–Ω—ã–µ –ø–µ—Ä–µ–≤–æ–¥—ã
**v2.7.2** –≤–∫–ª—é—á–∞–µ—Ç —É–ª—É—á—à–µ–Ω–∏—è –ø–µ—Ä–µ–≤–æ–¥–æ–≤:
- JSON-—Ñ–æ—Ä–º–∞—Ç –≤–º–µ—Å—Ç–æ —Ç–µ–∫—Å—Ç–æ–≤–æ–≥–æ –ø–∞—Ä—Å–∏–Ω–≥–∞
- –í–∞–ª–∏–¥–∞—Ü–∏—è –ø–æ–ª–Ω–æ—Ç—ã –ø–µ—Ä–µ–≤–æ–¥–æ–≤
- Fallback –¥–ª—è –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏—Ö —è–∑—ã–∫–æ–≤
- –ö–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ —ç–º–æ–¥–∑–∏
- –£–¥–∞–ª–µ–Ω–∏–µ —è–∑—ã–∫–æ–≤—ã—Ö –ø—Ä–µ—Ñ–∏–∫—Å–æ–≤ –∏–∑ —Ç–µ–∫—Å—Ç–∞

### –ù–µ—Ö–≤–∞—Ç–∫–∞ –º–µ—Å—Ç–∞ –Ω–∞ –¥–∏—Å–∫–µ
```bash
# –û—á–∏—Å—Ç–∫–∞ –ª–æ–≥–æ–≤
sudo journalctl --vacuum-time=7d
rm -rf logs/archive/*
```

### –ü—Ä–æ–±–ª–µ–º—ã —Å FFmpeg
```bash
# Ubuntu/Debian
sudo apt update && sudo apt install ffmpeg

# –ü—Ä–æ–≤–µ—Ä–∫–∞
ffmpeg -version
```

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License - —Å–º. —Ñ–∞–π–ª [LICENSE](LICENSE)

## ü§ù –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –≤–æ–ø—Ä–æ—Å–æ–≤ —Å–æ–∑–¥–∞–≤–∞–π—Ç–µ Issues –≤ GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏.
